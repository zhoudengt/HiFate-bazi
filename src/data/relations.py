#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
天干地支关系常量定义。

统一维护各种合、冲、刑、害、破、三合、三会等关系，供排盘核心与规则引擎复用。
"""

from __future__ import annotations

# 天干合
STEM_HE = {
    "甲": "己", "己": "甲",
    "乙": "庚", "庚": "乙",
    "丙": "辛", "辛": "丙",
    "丁": "壬", "壬": "丁",
    "戊": "癸", "癸": "戊",
}

# 地支六合
BRANCH_LIUHE = {
    "子": "丑", "丑": "子",
    "寅": "亥", "亥": "寅",
    "卯": "戌", "戌": "卯",
    "辰": "酉", "酉": "辰",
    "巳": "申", "申": "巳",
    "午": "未", "未": "午",
}

# 地支六冲
BRANCH_CHONG = {
    "子": "午", "午": "子",
    "丑": "未", "未": "丑",
    "寅": "申", "申": "寅",
    "卯": "酉", "酉": "卯",
    "辰": "戌", "戌": "辰",
    "巳": "亥", "亥": "巳",
}

# 地支刑
BRANCH_XING = {
    "寅": ["巳", "申"],
    "巳": ["申", "寅"],
    "申": ["寅", "巳"],
    "丑": ["戌", "未"],
    "戌": ["未", "丑"],
    "未": ["丑", "戌"],
    "子": ["卯", "子"],
    "卯": ["子", "卯"],
    "午": ["午"],
    "酉": ["酉"],
}

# 地支害
BRANCH_HAI = {
    "子": ["未"],
    "未": ["子"],
    "丑": ["午"],
    "午": ["丑"],
    "寅": ["巳"],
    "巳": ["寅"],
    "卯": ["辰"],
    "辰": ["卯"],
    "申": ["亥"],
    "亥": ["申"],
    "酉": ["戌"],
    "戌": ["酉"],
}

# 地支破
BRANCH_PO = {
    "子": "酉", "酉": "子",
    "丑": "辰", "辰": "丑",
    "寅": "亥", "亥": "寅",
    "卯": "午", "午": "卯",
    "申": "巳", "巳": "申",
    "未": "戌", "戌": "未",
}

# 地支三合局
BRANCH_SANHE_GROUPS = [
    ("申", "子", "辰"),
    ("亥", "卯", "未"),
    ("寅", "午", "戌"),
    ("巳", "酉", "丑"),
]

# 地支三会局（同旬连）
BRANCH_SANHUI_GROUPS = [
    ("亥", "子", "丑"),
    ("寅", "卯", "辰"),
    ("巳", "午", "未"),
    ("申", "酉", "戌"),
]

__all__ = [
    "STEM_HE",
    "BRANCH_LIUHE",
    "BRANCH_CHONG",
    "BRANCH_XING",
    "BRANCH_HAI",
    "BRANCH_PO",
    "BRANCH_SANHE_GROUPS",
    "BRANCH_SANHUI_GROUPS",
]

