# HiFate-bazi Docker Compose 镜像配置
# 使用方式：IMAGE=ghcr.io/owner/repo/hifate-bazi:latest docker-compose -f docker-compose.yml -f docker-compose.image.yml up -d
# 功能：使用预构建的镜像而不是本地构建

version: '3.8'

services:
  # 主服务 - 使用镜像
  web:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null  # 禁用构建，只使用镜像
    
  # 八字分析服务 - 使用镜像
  bazi-analyzer:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 运势分析服务 - 使用镜像
  fortune-analyzer:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 规则服务 - 使用镜像
  rule-service:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 八字核心服务 - 使用镜像
  bazi-core:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 大运流年服务 - 使用镜像
  bazi-fortune:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 支付服务 - 使用镜像
  payment-service:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 运势规则服务 - 使用镜像
  fortune-rule:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 意图识别服务 - 使用镜像
  intent-service:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 提示优化服务 - 使用镜像
  prompt-optimizer:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null
    
  # 办公桌风水服务 - 使用镜像
  desk-fengshui:
    image: ${DOCKER_IMAGE:-ghcr.io/owner/repo/hifate-bazi:latest}
    build: null

