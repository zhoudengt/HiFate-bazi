# 前端接口清单

> 本文档记录所有前端页面调用的后端接口
> 最后更新：2026-01-18

---

## 一、gRPC 网关接口

通过 `api.post()` 调用，经由 gRPC-Web 网关转发。

| 接口路径 | 功能描述 | 所属页面 |
|---------|---------|---------|
| `/bazi/fortune/display` | 大运/流年/流月统一展示 | fortune.html |
| `/bazi/interface` | 八字基础信息查询 | basic-info.html |
| `/bazi/pan/display` | 排盘信息展示 | pan.html |
| `/bazi/wangshuai` | 旺衰分析 | pan.html |
| `/calendar/query` | 日历日期查询 | daily-fortune-calendar.html |
| `/bazi/shengong-minggong` | 身宫命宫分析 | shengong-minggong.html |
| `/auth/login` | 用户登录认证 | login.html |
| `/bazi/wuxing-proportion` | 五行比例分析 | wuxing-proportion.html |
| `/bazi/rizhu-liujiazi` | 日柱六甲子分析 | rizhu-liujiazi.html |
| `/api/v2/desk-fengshui/analyze` | 办公桌风水分析 | desk-fengshui.html |
| `/api/v2/face/analyze` | 面相分析 V2 | face-analysis-v2.html |

---

## 二、流式接口 (SSE)

通过 `fetch()` 调用，返回 Server-Sent Events 流式响应。

| 接口路径 | 功能描述 | 所属页面 |
|---------|---------|---------|
| `/api/v1/annual-report/stream` | 年运报告流式分析 | annual-report-analysis.html |
| `/api/v1/bazi/xishen-jishen` | 喜神忌神查询（非流式） | xishen-jishen.html |
| `/api/v1/bazi/xishen-jishen/stream` | 喜神忌神流式分析 | xishen-jishen.html |
| `/api/v1/bazi/marriage-analysis/stream` | 婚姻分析流式 | marriage-analysis.html |
| `/api/v1/daily-fortune-calendar/action-suggestions/stream` | 每日运势行动建议流式 | daily-fortune-calendar.html |
| `/api/v1/general-review/stream` | 综合评述流式分析 | general-review-analysis.html |
| `/api/v1/health/stream` | 健康分析流式 | health-analysis.html |
| `/api/v1/children-study/stream` | 子女学业分析流式 | children-study-analysis.html |
| `/api/v1/career-wealth/stream` | 事业财富分析流式 | career-wealth-analysis.html |
| `/api/v1/bazi/wuxing-proportion/stream` | 五行比例流式分析 | wuxing-proportion.html |
| `/api/v1/smart-fortune/smart-analyze-stream` | 智能运势分析流式 | ai-qa.html, smart-fortune-stream.html |

---

## 三、QA 对话接口 (REST)

通过 `fetch()` 调用，标准 REST API。

| 接口路径 | 功能描述 | 所属页面 |
|---------|---------|---------|
| `/qa/start` | 开始 QA 对话会话 | qa-conversation.html |
| `/qa/categories/{category}/questions` | 获取分类问题列表 | qa-conversation.html |
| `/qa/validate-session` | 验证会话有效性 | qa-conversation.html |
| `/qa/ask` | 提交问题获取回答 | qa-conversation.html |

---

## 四、统计

| 分类 | 数量 |
|-----|------|
| gRPC 网关接口 | 11 |
| 流式接口 | 11 |
| QA REST 接口 | 4 |
| **总计** | **26** |

---

## 五、前端页面索引

| 页面文件 | 功能说明 | 调用接口数 |
|---------|---------|----------|
| fortune.html | 运势分析（大运/流年/流月） | 1 |
| basic-info.html | 八字基础信息 | 1 |
| pan.html | 专业排盘 | 2 |
| daily-fortune-calendar.html | 每日运势日历 | 2 |
| shengong-minggong.html | 身宫命宫 | 1 |
| login.html | 用户登录 | 1 |
| wuxing-proportion.html | 五行比例 | 2 |
| rizhu-liujiazi.html | 日柱六甲子 | 1 |
| desk-fengshui.html | 办公桌风水 | 1 |
| face-analysis-v2.html | 面相分析 | 1 |
| annual-report-analysis.html | 年运报告 | 1 |
| xishen-jishen.html | 喜神忌神 | 2 |
| marriage-analysis.html | 婚姻分析 | 1 |
| general-review-analysis.html | 综合评述 | 1 |
| health-analysis.html | 健康分析 | 1 |
| children-study-analysis.html | 子女学业分析 | 1 |
| career-wealth-analysis.html | 事业财富分析 | 1 |
| ai-qa.html | AI 问答 | 1 |
| smart-fortune-stream.html | 智能运势分析 | 1 |
| qa-conversation.html | QA 对话 | 4 |
