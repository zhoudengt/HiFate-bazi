{
  "统计": {
    "总规则数": 60,
    "成功解析": 53,
    "无法解析": 7,
    "解析成功率": "88.3%",
    "生成时间": "2025-12-06"
  },
  "未解析规则详细说明": [
    {
      "ID": 80102,
      "类型": "事业",
      "性别": "无论男女",
      "筛选条件1": "十神",
      "筛选条件2": "四柱中正官，七杀，正印，偏印数量少于3个，伤官、偏财数量多于食神、正财数量",
      "数量": "",
      "结果": "最适合产品加工推销批发，代理商业。还可从事出版业、文具店、书店、花店、艺术行业。",
      "rule_code": "FORMULA_事业_80102",
      "解析失败原因": "未识别的十神条件: 四柱中正官，七杀，正印，偏印数量少于3个，伤官、偏财数量多于食神、正财数量",
      "不理解点说明": {
        "不理解的点": [
          "条件包含两个部分：1) 正官、七杀、正印、偏印数量少于3个；2) 伤官、偏财数量多于食神、正财数量",
          "第一部分是多个十神的总数量限制（少于3个），第二部分是两组十神的数量比较",
          "需要同时满足两个条件，且第二部分涉及多个十神的组合比较"
        ],
        "需要澄清的概念": {
          "多十神总数量限制": "正官、七杀、正印、偏印这四个十神的总数量少于3个，不是每个少于3个",
          "十神组合比较": "伤官、偏财的总数量要大于食神、正财的总数量",
          "条件组合": "两个条件必须同时满足（AND关系）"
        },
        "歧义说明": "当前解析器可以处理单个十神数量限制和简单的两组比较，但无法同时处理：1) 多个十神的总数量限制；2) 两组多十神的组合比较",
        "案例说明": {
          "示例1": {
            "八字": "甲子 丙寅 戊午 庚申",
            "十神统计": {
              "正官": 0,
              "七杀": 1,
              "正印": 1,
              "偏印": 0,
              "伤官": 2,
              "偏财": 1,
              "食神": 1,
              "正财": 0
            },
            "验证": {
              "条件1": "正官+七杀+正印+偏印 = 0+1+1+0 = 2 < 3 ✓",
              "条件2": "伤官+偏财 = 2+1 = 3 > 食神+正财 = 1+0 = 1 ✓",
              "结果": "两个条件都满足，应该匹配此规则"
            }
          },
          "示例2": {
            "八字": "乙丑 丁卯 己巳 辛未",
            "十神统计": {
              "正官": 1,
              "七杀": 1,
              "正印": 1,
              "偏印": 0,
              "伤官": 1,
              "偏财": 1,
              "食神": 1,
              "正财": 1
            },
            "验证": {
              "条件1": "正官+七杀+正印+偏印 = 1+1+1+0 = 3，不小于3 ✗",
              "条件2": "伤官+偏财 = 1+1 = 2 = 食神+正财 = 1+1 = 2 ✗",
              "结果": "条件1不满足，不应该匹配此规则"
            }
          }
        },
        "解决方案": "需要在解析器中添加：1) 多十神总数量限制条件（ten_gods_total_group）；2) 增强ten_gods_compare_group支持多十神组合比较"
      }
    },
    {
      "ID": 80103,
      "类型": "事业",
      "性别": "无论男女",
      "筛选条件1": "十神",
      "筛选条件2": "四柱中十神正官，七杀，正印，偏印数量少于3三个，食神，偏财比伤官，正财数量少",
      "数量": "",
      "结果": "不宜从政，经商为好或管理、协调、律师、武术、杂技、绘画音乐舞蹈。",
      "rule_code": "FORMULA_事业_80103",
      "解析失败原因": "未识别的十神条件: 四柱中十神正官，七杀，正印，偏印数量少于3三个，食神，偏财比伤官，正财数量少",
      "不理解点说明": {
        "不理解的点": [
          "条件包含两个部分：1) 正官、七杀、正印、偏印数量少于3个；2) 食神、偏财比伤官、正财数量少",
          "第二部分使用了'比...数量少'的表达方式，与'数量多于'相反",
          "需要同时满足两个条件"
        ],
        "需要澄清的概念": {
          "多十神总数量限制": "正官、七杀、正印、偏印这四个十神的总数量少于3个",
          "反向比较": "'食神、偏财比伤官、正财数量少'等同于'伤官、正财数量多于食神、偏财数量'",
          "条件组合": "两个条件必须同时满足（AND关系）"
        },
        "歧义说明": "当前解析器可以处理'数量多于'，但无法处理'比...数量少'这种反向表达，且无法同时处理多十神总数量限制",
        "案例说明": {
          "示例1": {
            "八字": "甲子 丙寅 戊午 庚申",
            "十神统计": {
              "正官": 0,
              "七杀": 1,
              "正印": 1,
              "偏印": 0,
              "食神": 1,
              "偏财": 0,
              "伤官": 2,
              "正财": 1
            },
            "验证": {
              "条件1": "正官+七杀+正印+偏印 = 0+1+1+0 = 2 < 3 ✓",
              "条件2": "食神+偏财 = 1+0 = 1 < 伤官+正财 = 2+1 = 3 ✓",
              "结果": "两个条件都满足，应该匹配此规则"
            }
          }
        },
        "解决方案": "需要在解析器中添加：1) 支持'比...数量少'的反向比较；2) 多十神总数量限制条件"
      }
    },
    {
      "ID": 80110,
      "类型": "事业",
      "性别": "无论男女",
      "筛选条件1": "十神",
      "筛选条件2": "四柱出现正财或者偏财，并且与寅申巳亥中任何一个字同柱",
      "数量": "",
      "结果": "为大企业家，大商人。",
      "rule_code": "FORMULA_事业_80110",
      "解析失败原因": "未识别的十神条件: 四柱出现正财或者偏财，并且与寅申巳亥中任何一个字同柱",
      "不理解点说明": {
        "不理解的点": [
          "条件包含两个部分：1) 四柱出现正财或偏财；2) 该十神与寅、申、巳、亥中任何一个字同柱",
          "需要判断十神所在的地支是否与指定的地支同柱",
          "'或者'表示OR关系，'并且'表示AND关系"
        ],
        "需要澄清的概念": {
          "同柱关系": "十神（主星或副星）所在的地支与指定的地支（寅、申、巳、亥）在同一个柱中",
          "十神出现": "正财或偏财在四柱的任意位置出现（主星或副星）",
          "条件组合": "十神出现（OR）AND 同柱关系（OR）"
        },
        "歧义说明": "当前解析器已经实现了ten_gods_same_pillar_branch条件，但正则表达式可能无法正确匹配'四柱出现正财或者偏财，并且与...同柱'这种格式",
        "案例说明": {
          "示例1": {
            "八字": "甲寅 丙申 戊午 庚亥",
            "十神统计": {
              "年柱": {"主星": "比肩", "副星": ["正财"], "地支": "寅"},
              "月柱": {"主星": "偏印", "副星": ["偏财"], "地支": "申"},
              "日柱": {"主星": "元男", "副星": [], "地支": "午"},
              "时柱": {"主星": "食神", "副星": [], "地支": "亥"}
            },
            "验证": {
              "条件1": "年柱副星有正财，月柱副星有偏财 ✓",
              "条件2": "年柱地支为寅，正财与寅同柱 ✓；月柱地支为申，偏财与申同柱 ✓",
              "结果": "应该匹配此规则"
            }
          }
        },
        "解决方案": "需要优化正则表达式，确保能正确匹配'四柱出现X或者Y，并且与Z同柱'格式"
      }
    },
    {
      "ID": 80131,
      "类型": "事业",
      "性别": "无论男女",
      "筛选条件1": "十神",
      "筛选条件2": "伤官食神强于正七官杀者，比如：例如：七杀在月令为旺，能量大；七杀被食神制，能量小。",
      "数量": "",
      "结果": "宜私职或自由职业。",
      "rule_code": "FORMULA_事业_80131",
      "解析失败原因": "未识别的十神条件: 伤官食神强于正七官杀者，比如：例如：七杀在月令为旺，能量大；七杀被食神制，能量小。",
      "不理解点说明": {
        "不理解的点": [
          "条件涉及十神的'能量'或'强度'比较，而不是简单的数量比较",
          "能量判断需要考虑：1) 十神在月令的位置（得令为旺）；2) 十神是否被其他十神克制（被制则能量小）",
          "这是一个复杂的能量量化问题，需要综合考虑位置、相克关系等因素"
        ],
        "需要澄清的概念": {
          "十神能量": "十神的能量不仅取决于数量，还取决于：1) 是否在月令（得令为旺）；2) 是否被其他十神克制；3) 是否被其他十神生扶",
          "月令旺衰": "十神在月令位置时能量最大，在其他位置能量较小",
          "相克关系": "食神克七杀，伤官克正官，被克的十神能量减小",
          "能量比较": "需要计算两组十神的综合能量，然后比较"
        },
        "歧义说明": "当前解析器只能进行数量比较，无法进行能量量化。能量量化需要：1) 判断十神是否在月令；2) 判断十神是否被克制；3) 综合计算能量值",
        "案例说明": {
          "示例1": {
            "八字": "甲子 丙寅 戊午 庚申",
            "十神统计": {
              "伤官": {"数量": 1, "位置": "时柱", "得令": false, "被制": false},
              "食神": {"数量": 1, "位置": "月柱", "得令": true, "被制": false},
              "正官": {"数量": 0, "位置": null, "得令": false, "被制": false},
              "七杀": {"数量": 1, "位置": "年柱", "得令": false, "被制": true}
            },
            "能量计算": {
              "伤官食神能量": "伤官(1*1) + 食神(1*2) = 3（食神在月令，能量*2）",
              "正七官杀能量": "正官(0) + 七杀(1*0.5) = 0.5（七杀被食神制，能量*0.5）",
              "比较": "3 > 0.5 ✓"
            },
            "验证": "伤官食神能量强于正七官杀，应该匹配此规则"
          }
        },
        "解决方案": "需要开发十神能量量化功能：1) 判断十神是否在月令；2) 判断十神相克关系；3) 计算综合能量值；4) 实现能量比较条件"
      }
    },
    {
      "ID": 80146,
      "类型": "事业",
      "性别": "无论男女",
      "筛选条件1": "十神",
      "筛选条件2": "辰戌土旺为狱官",
      "数量": "",
      "结果": "相者为不义人，休囚者为大狱卒。",
      "rule_code": "FORMULA_事业_80146",
      "解析失败原因": "未识别的十神条件: 辰戌土旺为狱官",
      "不理解点说明": {
        "不理解的点": [
          "条件涉及地支（辰、戌）和五行（土）的组合判断",
          "'土旺'可能指：1) 土五行数量多；2) 土五行在月令得令；3) 地支辰、戌的五行属性为土且得令",
          "'为狱官'是结果描述，不是条件"
        ],
        "需要澄清的概念": {
          "地支五行": "辰、戌的五行属性为土",
          "土旺": "可能指：1) 四柱中土五行的数量多（>=3个）；2) 土五行在月令得令；3) 辰、戌在月令位置",
          "狱官": "这是结果，不是条件，表示从事狱官相关职业"
        },
        "歧义说明": "当前解析器无法识别'辰戌土旺'这种复合条件，需要同时判断：1) 地支有辰或戌；2) 土五行旺（数量多或得令）",
        "案例说明": {
          "示例1": {
            "八字": "戊辰 戊戌 己巳 己未",
            "验证": {
              "地支": "年柱辰、月柱戌、日柱巳、时柱未",
              "土五行": "戊(土)、戊(土)、己(土)、己(土) = 4个",
              "辰戌": "年柱有辰，月柱有戌 ✓",
              "土旺": "土五行数量4个 >= 3个 ✓",
              "结果": "应该匹配此规则"
            }
          }
        },
        "解决方案": "需要在解析器中添加：1) 地支+五行组合条件；2) 五行旺衰判断（数量或得令）"
      }
    },
    {
      "ID": 80147,
      "类型": "事业",
      "性别": "无论男女",
      "筛选条件1": "十神",
      "筛选条件2": "身旺，同时有七杀，正印，偏印，比如：日主在月令得气，或得比肩劫财生扶，或得印星生扶，则为身旺",
      "数量": "",
      "结果": "从军或政法系统。",
      "rule_code": "FORMULA_事业_80147",
      "解析失败原因": "未识别的十神条件: 身旺，同时有七杀，正印，偏印，比如：日主在月令得气，或得比肩劫财生扶，或得印星生扶，则为身旺",
      "不理解点说明": {
        "不理解的点": [
          "条件包含两个部分：1) 身旺；2) 同时有七杀、正印、偏印",
          "第一部分是旺衰判断，第二部分是十神存在判断",
          "需要同时满足两个条件"
        ],
        "需要澄清的概念": {
          "身旺": "日主在月令得气，或得比肩劫财生扶，或得印星生扶，则为身旺",
          "同时有": "七杀、正印、偏印这三个十神都要存在（数量>=1）",
          "条件组合": "身旺 AND 七杀存在 AND 正印存在 AND 偏印存在"
        },
        "歧义说明": "当前解析器已经实现了身旺判断和十神存在判断，但正则表达式可能无法正确匹配'身旺，同时有X，Y，Z'这种格式",
        "案例说明": {
          "示例1": {
            "八字": "甲子 丙寅 戊午 庚申",
            "验证": {
              "身旺": "日主戊土在月令寅（木），不得令；但有比肩、劫财生扶，或印星生扶，判断为身旺 ✓",
              "七杀": "存在 ✓",
              "正印": "存在 ✓",
              "偏印": "存在 ✓",
              "结果": "应该匹配此规则"
            }
          }
        },
        "解决方案": "需要优化正则表达式，确保能正确匹配'身旺，同时有X，Y，Z'格式，组合旺衰条件和十神存在条件"
      }
    },
    {
      "ID": 80182,
      "类型": "事业",
      "性别": "无论男女",
      "筛选条件1": "十神",
      "筛选条件2": "军人身份流年大小运五行是金土",
      "数量": "",
      "结果": "升军职。",
      "rule_code": "FORMULA_事业_80182",
      "解析失败原因": "需要动态数据（流年大运）: 军人身份流年大小运五行是金土",
      "不理解点说明": {
        "不理解的点": [
          "条件涉及流年和大运的五行判断，这是动态数据，不是静态的八字数据",
          "需要获取当前流年和大运的干支，然后判断其五行属性",
          "还需要判断'军人身份'，这可能需要额外的用户信息"
        ],
        "需要澄清的概念": {
          "流年": "当前年份的干支，每年都会变化",
          "大运": "根据出生日期和性别计算的大运干支，每10年变化一次",
          "五行判断": "流年和大运的干支对应的五行属性",
          "军人身份": "这可能需要用户提供额外的身份信息，或者通过其他规则判断"
        },
        "歧义说明": "当前解析器只能处理静态的八字数据，无法处理动态的流年大运数据。流年大运数据需要：1) 计算当前流年；2) 计算当前大运；3) 判断五行属性",
        "案例说明": {
          "示例1": {
            "八字": "甲子 丙寅 戊午 庚申",
            "当前时间": "2025年",
            "流年": "乙巳（2025年）",
            "大运": "根据出生日期计算，假设为庚戌",
            "验证": {
              "流年五行": "乙(木)、巳(火)，不全是金土 ✗",
              "大运五行": "庚(金)、戌(土) ✓",
              "结果": "需要流年和大运都是金土，但流年不是，所以不匹配"
            }
          },
          "示例2": {
            "八字": "甲子 丙寅 戊午 庚申",
            "当前时间": "假设某年",
            "流年": "庚戌（金土）",
            "大运": "辛丑（金土）",
            "验证": {
              "流年五行": "庚(金)、戌(土) ✓",
              "大运五行": "辛(金)、丑(土) ✓",
              "结果": "流年和大运都是金土，应该匹配此规则"
            }
          }
        },
        "解决方案": "需要开发流年大运支持：1) 在规则引擎中添加流年大运数据获取；2) 实现流年大运五行判断条件；3) 考虑是否需要用户身份信息（军人身份）"
      }
    }
  ],
  "总结": {
    "主要问题类型": [
      "复杂数量比较（2条）：需要多十神总数量限制和组合比较",
      "同柱关系（1条）：正则表达式匹配问题",
      "能量量化（1条）：需要开发十神能量量化功能",
      "特殊条件（2条）：地支+五行组合、身旺+十神组合",
      "动态数据（1条）：需要流年大运支持"
    ],
    "优先级建议": [
      "高优先级：修复正则表达式匹配问题（80110、80147），可以快速解决",
      "中优先级：实现多十神总数量限制和组合比较（80102、80103）",
      "低优先级：开发能量量化功能（80131），需要较复杂的逻辑",
      "低优先级：开发流年大运支持（80182），需要动态数据计算"
    ]
  }
}

