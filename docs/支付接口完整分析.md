# æ”¯ä»˜æ¥å£å®Œæ•´åˆ†æä¸æµ‹è¯•æŒ‡å—

## ğŸ“Š ç³»ç»Ÿæ¶æ„

### æ¶æ„å›¾
```
å‰ç«¯ (8080) 
    â†“ HTTP REST API
ä¸»æœåŠ¡ (8001) - FastAPI
    â†“ gRPC
æ”¯ä»˜å¾®æœåŠ¡ (9006) - gRPC Server
    â†“
Stripe API
```

### é€šä¿¡åè®®
- **å‰ç«¯ â†’ ä¸»æœåŠ¡**: HTTP REST API (JSON)
- **ä¸»æœåŠ¡ â†’ æ”¯ä»˜å¾®æœåŠ¡**: gRPC (å¯é€‰ï¼Œå½“å‰ä¸»è¦ä½¿ç”¨HTTP)
- **æ”¯ä»˜å¾®æœåŠ¡ â†’ Stripe**: HTTPS REST API

---

## ğŸ”Œ APIæ¥å£è¯¦è§£

### 1. åˆ›å»ºæ”¯ä»˜ä¼šè¯

**æ¥å£åœ°å€**: `POST http://127.0.0.1:8001/api/v1/payment/create-session`

**è¯·æ±‚å‚æ•°**:
```json
{
  "amount": "19.90",           // å¿…å¡«ï¼Œé‡‘é¢ï¼ˆå­—ç¬¦ä¸²æ ¼å¼ï¼‰
  "currency": "USD",           // å¿…å¡«ï¼Œè´§å¸ä»£ç 
  "product_name": "æœˆè®¢é˜…ä¼šå‘˜",  // å¿…å¡«ï¼Œäº§å“åç§°
  "customer_email": "test@example.com",  // å¿…å¡«ï¼Œå®¢æˆ·é‚®ç®±
  "metadata": {                // å¯é€‰ï¼Œè‡ªå®šä¹‰å…ƒæ•°æ®
    "user_id": "12345",
    "order_id": "ORD-001"
  }
}
```

**æˆåŠŸå“åº”**:
```json
{
  "success": true,
  "session_id": "cs_test_a1B2c3D4e5F6...",  // Stripeä¼šè¯ID
  "checkout_url": "https://checkout.stripe.com/c/pay/cs_test_...",  // æ”¯ä»˜é¡µé¢URL
  "status": "created",
  "message": "æ”¯ä»˜ä¼šè¯åˆ›å»ºæˆåŠŸ"
}
```

**å¤±è´¥å“åº”**:
```json
{
  "detail": "åˆ›å»ºæ”¯ä»˜ä¼šè¯å¤±è´¥: STRIPE_SECRET_KEYæœªé…ç½®"
}
```

**æ”¯æŒçš„è´§å¸**:
- `USD` - ç¾å…ƒ
- `EUR` - æ¬§å…ƒ
- `GBP` - è‹±é•‘
- `CNY` - äººæ°‘å¸ï¼ˆéœ€è¦ç‰¹æ®Šé…ç½®ï¼‰
- `HKD` - æ¸¯å¸
- `JPY` - æ—¥å…ƒ

---

### 2. éªŒè¯æ”¯ä»˜çŠ¶æ€

**æ¥å£åœ°å€**: `POST http://127.0.0.1:8001/api/v1/payment/verify`

**è¯·æ±‚å‚æ•°**:
```json
{
  "session_id": "cs_test_a1B2c3D4e5F6..."  // å¿…å¡«ï¼ŒStripeä¼šè¯ID
}
```

**æˆåŠŸå“åº”** (å·²æ”¯ä»˜):
```json
{
  "success": true,
  "status": "success",           // æ”¯ä»˜çŠ¶æ€ï¼šsuccess, pending, failed
  "payment_intent_id": "pi_...", // Stripeæ”¯ä»˜æ„å›¾ID
  "amount": "19.90",             // æ”¯ä»˜é‡‘é¢
  "currency": "USD",             // è´§å¸
  "customer_email": "test@example.com",  // å®¢æˆ·é‚®ç®±
  "created_at": 1234567890,      // åˆ›å»ºæ—¶é—´æˆ³
  "metadata": {                  // å…ƒæ•°æ®
    "user_id": "12345",
    "order_id": "ORD-001"
  },
  "message": "æ”¯ä»˜çŠ¶æ€æŸ¥è¯¢æˆåŠŸ"
}
```

**çŠ¶æ€è¯´æ˜**:
- `success`: æ”¯ä»˜æˆåŠŸ
- `pending`: æ”¯ä»˜è¿›è¡Œä¸­
- `failed`: æ”¯ä»˜å¤±è´¥æˆ–å·²è¿‡æœŸ

---

## ğŸ”§ é…ç½®è¦æ±‚

### 1. ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼š

```bash
# Stripeå¯†é’¥ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰
STRIPE_SECRET_KEY=sk_test_ä½ çš„Stripeæµ‹è¯•å¯†é’¥

# å‰ç«¯åŸºç¡€URLï¼ˆå¯é€‰ï¼Œé»˜è®¤localhost:8080ï¼‰
FRONTEND_BASE_URL=http://localhost:8080
```

### 2. è·å–Stripeæµ‹è¯•å¯†é’¥

1. è®¿é—® https://dashboard.stripe.com/register
2. æ³¨å†Œæˆ–ç™»å½•Stripeè´¦å·
3. è¿›å…¥ **Developers** > **API keys**
4. æ‰¾åˆ° **Secret key** (æµ‹è¯•æ¨¡å¼)
5. å¤åˆ¶ `sk_test_...` å¼€å¤´çš„å¯†é’¥

### 3. ä¾èµ–å®‰è£…

```bash
pip install stripe>=7.0.0
```

---

## ğŸ§ª æµ‹è¯•æ–¹æ³•

### æ–¹æ³•1: ä½¿ç”¨curlå‘½ä»¤ï¼ˆæ¨èï¼‰

#### æ­¥éª¤1: åˆ›å»ºæ”¯ä»˜ä¼šè¯
```bash
curl -X POST http://127.0.0.1:8001/api/v1/payment/create-session \
  -H "Content-Type: application/json" \
  -d '{
    "amount": "19.90",
    "currency": "USD",
    "product_name": "æœˆè®¢é˜…ä¼šå‘˜",
    "customer_email": "test@example.com",
    "metadata": {
      "user_id": "test123",
      "order_id": "ORD-20250120-001"
    }
  }'
```

**é¢„æœŸè¾“å‡º**:
```json
{
  "success": true,
  "session_id": "cs_test_a1B2c3...",
  "checkout_url": "https://checkout.stripe.com/c/pay/cs_test_...",
  "status": "created",
  "message": "æ”¯ä»˜ä¼šè¯åˆ›å»ºæˆåŠŸ"
}
```

#### æ­¥éª¤2: åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ”¯ä»˜é¡µé¢
å¤åˆ¶è¿”å›çš„ `checkout_url`ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚

#### æ­¥éª¤3: ä½¿ç”¨æµ‹è¯•å¡å·å®Œæˆæ”¯ä»˜

**æµ‹è¯•å¡å·ï¼ˆæˆåŠŸï¼‰**:
- å¡å·: `4242 4242 4242 4242`
- è¿‡æœŸæ—¥æœŸ: ä»»æ„æœªæ¥æ—¥æœŸï¼ˆå¦‚ `12/25`ï¼‰
- CVC: ä»»æ„3ä½æ•°å­—ï¼ˆå¦‚ `123`ï¼‰
- é‚®ç¼–: ä»»æ„5ä½æ•°å­—ï¼ˆå¦‚ `12345`ï¼‰

**å…¶ä»–æµ‹è¯•å¡å·**:
- éœ€è¦3DéªŒè¯: `4000 0027 6000 3184`
- æ”¯ä»˜å¤±è´¥: `4000 0000 0000 0002`
- ä½™é¢ä¸è¶³: `4000 0000 0000 9995`

#### æ­¥éª¤4: éªŒè¯æ”¯ä»˜çŠ¶æ€
```bash
# ä½¿ç”¨æ­¥éª¤1è¿”å›çš„session_id
curl -X POST http://127.0.0.1:8001/api/v1/payment/verify \
  -H "Content-Type: application/json" \
  -d '{
    "session_id": "cs_test_ä½ çš„session_id"
  }'
```

**é¢„æœŸè¾“å‡º** (å·²æ”¯ä»˜):
```json
{
  "success": true,
  "status": "success",
  "payment_intent_id": "pi_...",
  "amount": "19.90",
  "currency": "USD",
  "customer_email": "test@example.com",
  "message": "æ”¯ä»˜çŠ¶æ€æŸ¥è¯¢æˆåŠŸ"
}
```

---

### æ–¹æ³•2: ä½¿ç”¨Swagger UI

1. è®¿é—® http://127.0.0.1:8001/docs
2. æ‰¾åˆ° **payment** æ ‡ç­¾
3. å±•å¼€ `POST /api/v1/payment/create-session`
4. ç‚¹å‡» "Try it out"
5. å¡«å†™å‚æ•°å¹¶æ‰§è¡Œ
6. å¤åˆ¶è¿”å›çš„ `checkout_url` åœ¨æµè§ˆå™¨ä¸­å®Œæˆæ”¯ä»˜
7. ä½¿ç”¨ `POST /api/v1/payment/verify` éªŒè¯çŠ¶æ€

---

### æ–¹æ³•3: ä½¿ç”¨å‰ç«¯é¡µé¢

1. å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆå¦‚æœè¿˜æœªå¯åŠ¨ï¼‰:
```bash
cd frontend
python3 -m http.server 8080
```

2. è®¿é—®: http://localhost:8080/third-party-services.html

3. åœ¨"ç»Ÿä¸€æ”¯ä»˜"æ¨¡å—å¡«å†™:
   - **æ”¯ä»˜æ¸ é“**: Stripe (å…¨çƒ)
   - **é‡‘é¢**: 19.90
   - **è´§å¸**: USD (ç¾å…ƒ)
   - **äº§å“åç§°**: æœˆè®¢é˜…ä¼šå‘˜
   - **å®¢æˆ·é‚®ç®±**: test@example.com

4. ç‚¹å‡»"åˆ›å»ºæ”¯ä»˜"

5. ç‚¹å‡»è¿”å›çš„æ”¯ä»˜é“¾æ¥

6. ä½¿ç”¨æµ‹è¯•å¡å·å®Œæˆæ”¯ä»˜

---

## âš ï¸ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: æ¥å£è¿”å›404

**é”™è¯¯**: 
```
{"detail":"Not Found"}
```

**åŸå› **: 
- ä¸»æœåŠ¡æœªå¯åŠ¨
- æ”¯ä»˜è·¯ç”±æœªæ³¨å†Œ

**è§£å†³æ–¹æ³•**:
```bash
# æ£€æŸ¥ä¸»æœåŠ¡
lsof -i:8001

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨ä¸»æœåŠ¡
python server/start.py

# æˆ–é‡å¯æ‰€æœ‰æœåŠ¡
./restart_server.sh
```

---

### é—®é¢˜2: STRIPE_SECRET_KEYæœªé…ç½®

**é”™è¯¯**:
```json
{
  "detail": "åˆ›å»ºæ”¯ä»˜ä¼šè¯å¤±è´¥: STRIPE_SECRET_KEYæœªé…ç½®"
}
```

**è§£å†³æ–¹æ³•**:
```bash
# æ–¹æ³•1: åˆ›å»º.envæ–‡ä»¶
echo "STRIPE_SECRET_KEY=sk_test_ä½ çš„å¯†é’¥" >> .env

# æ–¹æ³•2: ä¸´æ—¶è®¾ç½®ç¯å¢ƒå˜é‡
export STRIPE_SECRET_KEY=sk_test_ä½ çš„å¯†é’¥
python server/start.py
```

---

### é—®é¢˜3: stripeåº“æœªå®‰è£…

**é”™è¯¯**:
```
ModuleNotFoundError: No module named 'stripe'
```

**è§£å†³æ–¹æ³•**:
```bash
pip install stripe>=7.0.0
# æˆ–
pip install -r requirements.txt
```

---

### é—®é¢˜4: åˆ›å»ºæ”¯ä»˜ä¼šè¯å¤±è´¥

**é”™è¯¯**:
```json
{
  "detail": "åˆ›å»ºæ”¯ä»˜ä¼šè¯å¤±è´¥: Invalid API Key provided"
}
```

**åŸå› **: Stripeå¯†é’¥æ— æ•ˆæˆ–æ ¼å¼é”™è¯¯

**è§£å†³æ–¹æ³•**:
1. ç¡®è®¤å¯†é’¥æ ¼å¼æ­£ç¡®ï¼ˆä»¥ `sk_test_` æˆ– `sk_live_` å¼€å¤´ï¼‰
2. é‡æ–°ä»Stripe Dashboardå¤åˆ¶å¯†é’¥
3. ç¡®è®¤å¯†é’¥æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼æˆ–æ¢è¡Œç¬¦

---

### é—®é¢˜5: ç½‘ç»œè¿æ¥å¤±è´¥

**é”™è¯¯**:
```json
{
  "detail": "åˆ›å»ºæ”¯ä»˜ä¼šè¯å¤±è´¥: Connection error"
}
```

**åŸå› **: æ— æ³•è¿æ¥åˆ°Stripe API

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. å¦‚åœ¨ä¸­å›½å¤§é™†ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ä»£ç†

---

## ğŸ“ å®Œæ•´æµ‹è¯•è„šæœ¬

åˆ›å»ºæ–‡ä»¶ `test_payment_full.sh`:

```bash
#!/bin/bash

echo "=========================================="
echo "æ”¯ä»˜æ¥å£å®Œæ•´æµ‹è¯•"
echo "=========================================="
echo ""

# æ£€æŸ¥ç¯å¢ƒå˜é‡
if [ -z "$STRIPE_SECRET_KEY" ]; then
    echo "âŒ é”™è¯¯: STRIPE_SECRET_KEY æœªè®¾ç½®"
    echo "è¯·è¿è¡Œ: export STRIPE_SECRET_KEY=sk_test_ä½ çš„å¯†é’¥"
    exit 1
fi

echo "âœ… STRIPE_SECRET_KEY å·²é…ç½®"
echo ""

# æ£€æŸ¥ä¸»æœåŠ¡
if lsof -i:8001 2>/dev/null | grep -q LISTEN; then
    echo "âœ… ä¸»æœåŠ¡è¿è¡Œæ­£å¸¸ (ç«¯å£ 8001)"
else
    echo "âŒ ä¸»æœåŠ¡æœªè¿è¡Œ"
    echo "è¯·è¿è¡Œ: python server/start.py"
    exit 1
fi
echo ""

# æµ‹è¯•1: åˆ›å»ºæ”¯ä»˜ä¼šè¯
echo "ğŸ“ æµ‹è¯•1: åˆ›å»ºæ”¯ä»˜ä¼šè¯"
echo "----------------------------------------"

RESPONSE=$(curl -s -X POST http://127.0.0.1:8001/api/v1/payment/create-session \
  -H "Content-Type: application/json" \
  -d '{
    "amount": "19.90",
    "currency": "USD",
    "product_name": "æµ‹è¯•äº§å“-æœˆè®¢é˜…",
    "customer_email": "test@example.com",
    "metadata": {
      "test_id": "test_001",
      "timestamp": "'$(date +%s)'"
    }
  }')

echo "$RESPONSE" | python3 -m json.tool

# æå–session_id
SESSION_ID=$(echo "$RESPONSE" | python3 -c "import sys, json; data=json.load(sys.stdin); print(data.get('session_id', ''))" 2>/dev/null)

if [ -n "$SESSION_ID" ]; then
    echo ""
    echo "âœ… æ”¯ä»˜ä¼šè¯åˆ›å»ºæˆåŠŸ"
    echo "Session ID: $SESSION_ID"
    
    # æå–checkout_url
    CHECKOUT_URL=$(echo "$RESPONSE" | python3 -c "import sys, json; data=json.load(sys.stdin); print(data.get('checkout_url', ''))" 2>/dev/null)
    
    if [ -n "$CHECKOUT_URL" ]; then
        echo ""
        echo "ğŸ”— æ”¯ä»˜é“¾æ¥:"
        echo "$CHECKOUT_URL"
        echo ""
        echo "ğŸ“Œ è¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸Šè¿°é“¾æ¥å®Œæˆæ”¯ä»˜æµ‹è¯•"
        echo ""
        echo "ğŸ’³ æµ‹è¯•å¡å·ä¿¡æ¯:"
        echo "   å¡å·: 4242 4242 4242 4242"
        echo "   è¿‡æœŸ: 12/25"
        echo "   CVC: 123"
        echo "   é‚®ç¼–: 12345"
        echo ""
        
        # ç­‰å¾…ç”¨æˆ·å®Œæˆæ”¯ä»˜
        echo "â³ è¯·å®Œæˆæ”¯ä»˜åæŒ‰å›è½¦ç»§ç»­éªŒè¯æ”¯ä»˜çŠ¶æ€..."
        read -r
        
        # æµ‹è¯•2: éªŒè¯æ”¯ä»˜çŠ¶æ€
        echo ""
        echo "ğŸ“ æµ‹è¯•2: éªŒè¯æ”¯ä»˜çŠ¶æ€"
        echo "----------------------------------------"
        
        VERIFY_RESPONSE=$(curl -s -X POST http://127.0.0.1:8001/api/v1/payment/verify \
          -H "Content-Type: application/json" \
          -d "{\"session_id\": \"$SESSION_ID\"}")
        
        echo "$VERIFY_RESPONSE" | python3 -m json.tool
        
        # æ£€æŸ¥æ”¯ä»˜çŠ¶æ€
        STATUS=$(echo "$VERIFY_RESPONSE" | python3 -c "import sys, json; data=json.load(sys.stdin); print(data.get('status', ''))" 2>/dev/null)
        
        echo ""
        if [ "$STATUS" = "success" ]; then
            echo "âœ… æ”¯ä»˜æˆåŠŸï¼"
        elif [ "$STATUS" = "pending" ]; then
            echo "â³ æ”¯ä»˜è¿›è¡Œä¸­"
        else
            echo "âŒ æ”¯ä»˜å¤±è´¥æˆ–æœªå®Œæˆ"
        fi
    fi
else
    echo ""
    echo "âŒ æ”¯ä»˜ä¼šè¯åˆ›å»ºå¤±è´¥"
    exit 1
fi

echo ""
echo "=========================================="
echo "æµ‹è¯•å®Œæˆ"
echo "=========================================="
```

è¿è¡Œæµ‹è¯•:
```bash
chmod +x test_payment_full.sh
export STRIPE_SECRET_KEY=sk_test_ä½ çš„å¯†é’¥
./test_payment_full.sh
```

---

## ğŸ¯ å®ç°æ”¯ä»˜æˆåŠŸçš„å®Œæ•´æµç¨‹

### æµç¨‹å›¾
```
1. é…ç½®ç¯å¢ƒ â†’ 2. å¯åŠ¨æœåŠ¡ â†’ 3. åˆ›å»ºæ”¯ä»˜ â†’ 4. å®Œæˆæ”¯ä»˜ â†’ 5. éªŒè¯çŠ¶æ€
```

### è¯¦ç»†æ­¥éª¤

#### âœ… æ­¥éª¤1: é…ç½®Stripeå¯†é’¥
```bash
# è·å–æµ‹è¯•å¯†é’¥: https://dashboard.stripe.com/test/apikeys
export STRIPE_SECRET_KEY=sk_test_ä½ çš„Stripeæµ‹è¯•å¯†é’¥
```

#### âœ… æ­¥éª¤2: ç¡®è®¤æœåŠ¡è¿è¡Œ
```bash
# æ£€æŸ¥ä¸»æœåŠ¡
lsof -i:8001

# å¦‚æœªè¿è¡Œï¼Œå¯åŠ¨
python server/start.py
```

#### âœ… æ­¥éª¤3: è°ƒç”¨APIåˆ›å»ºæ”¯ä»˜
```bash
curl -X POST http://127.0.0.1:8001/api/v1/payment/create-session \
  -H "Content-Type: application/json" \
  -d '{
    "amount": "19.90",
    "currency": "USD",
    "product_name": "æœˆè®¢é˜…ä¼šå‘˜",
    "customer_email": "test@example.com"
  }' | python3 -m json.tool
```

#### âœ… æ­¥éª¤4: åœ¨æµè§ˆå™¨ä¸­å®Œæˆæ”¯ä»˜
1. å¤åˆ¶è¿”å›çš„ `checkout_url`
2. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥é“¾æ¥
3. å¡«å†™æµ‹è¯•å¡å·: **4242 4242 4242 4242**
4. è¿‡æœŸæ—¥æœŸ: **12/25**
5. CVC: **123**
6. é‚®ç¼–: **12345**
7. ç‚¹å‡»"æ”¯ä»˜"

#### âœ… æ­¥éª¤5: éªŒè¯æ”¯ä»˜çŠ¶æ€
```bash
curl -X POST http://127.0.0.1:8001/api/v1/payment/verify \
  -H "Content-Type: application/json" \
  -d '{
    "session_id": "ä½ çš„session_id"
  }' | python3 -m json.tool
```

**æˆåŠŸæ ‡å¿—**: è¿”å›çš„ `status` ä¸º `"success"`

---

## ğŸ“š ä»£ç å®ç°åˆ†æ

### 1. ä¸»æœåŠ¡è·¯ç”± (`server/api/v1/payment.py`)
- æ¥æ”¶HTTPè¯·æ±‚
- å‚æ•°éªŒè¯ï¼ˆä½¿ç”¨Pydanticæ¨¡å‹ï¼‰
- è°ƒç”¨StripeClient
- è¿”å›JSONå“åº”

### 2. Stripeå®¢æˆ·ç«¯ (`services/payment_service/stripe_client.py`)
- å°è£…Stripe SDK
- å¤„ç†é‡‘é¢è½¬æ¢ï¼ˆå…ƒâ†’åˆ†ï¼‰
- æ„å»ºæ”¯ä»˜ä¼šè¯å‚æ•°
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

### 3. gRPCæœåŠ¡ (`services/payment_service/grpc_server.py`)
- æä¾›gRPCæ¥å£ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼‰
- å¥åº·æ£€æŸ¥
- ä¸HTTP APIåŠŸèƒ½å¯¹ç­‰

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. **æµ‹è¯•ç¯å¢ƒ**: å§‹ç»ˆä½¿ç”¨ `sk_test_` å¯†é’¥è¿›è¡Œæµ‹è¯•
2. **å¯†é’¥ä¿æŠ¤**: ä¸è¦å°†å¯†é’¥æäº¤åˆ°Gitä»“åº“
3. **HTTPS**: ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨HTTPS
4. **WebhookéªŒè¯**: é…ç½®Stripe Webhookå¹¶éªŒè¯ç­¾å
5. **é‡‘é¢éªŒè¯**: åœ¨æœåŠ¡ç«¯éªŒè¯é‡‘é¢ï¼Œä¸è¦å®Œå…¨ä¿¡ä»»å‰ç«¯

---

## ğŸ“Š ç›‘æ§ä¸æ—¥å¿—

æŸ¥çœ‹æ”¯ä»˜ç›¸å…³æ—¥å¿—:
```bash
# ä¸»æœåŠ¡æ—¥å¿—
tail -f logs/main.log | grep payment

# æ”¯ä»˜æœåŠ¡æ—¥å¿—ï¼ˆå¦‚æœä½¿ç”¨gRPCï¼‰
tail -f logs/payment_9006.log
```

---

## âœ¨ ä¸‹ä¸€æ­¥

æµ‹è¯•æˆåŠŸåï¼Œæ‚¨å¯ä»¥ï¼š
1. é›†æˆåˆ°å®é™…ä¸šåŠ¡æµç¨‹ä¸­
2. é…ç½®Webhookæ¥æ”¶æ”¯ä»˜äº‹ä»¶é€šçŸ¥
3. æ·»åŠ æ›´å¤šæ”¯ä»˜æ¸ é“ï¼ˆPayPalã€æ”¯ä»˜å®ç­‰ï¼‰
4. å®ç°è®¢é˜…ç®¡ç†åŠŸèƒ½
5. éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ˆä½¿ç”¨ `sk_live_` å¯†é’¥ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-01-20  
**ç»´æŠ¤è€…**: AI Assistant

