# DBeaver å¿«é€Ÿé…ç½®æŒ‡å—

## ğŸ“‹ å·²å®‰è£…çš„ç»„ä»¶

âœ… DBeaver Community Edition å·²æˆåŠŸå®‰è£…
âœ… é…ç½®æ–‡ä»¶ä½ç½®ï¼š`~/Library/DBeaverData/workspace6/General/.dbeaver/data-sources.json`

## ğŸ”Œ æ•°æ®åº“è¿æ¥ä¿¡æ¯

### MySQL è¿æ¥ï¼ˆç”Ÿäº§ Node1 Dockerï¼‰
- **ä¸»æœº**: `8.210.52.217`
- **ç«¯å£**: `3306`
- **ç”¨æˆ·å**: `root`
- **å¯†ç **: `Yuanqizhan@163`
- **æ•°æ®åº“**: `hifate_bazi`

### MongoDB è¿æ¥ï¼ˆç”Ÿäº§ Node1 Dockerï¼‰
- **ä¸»æœº**: `8.210.52.217`
- **ç«¯å£**: `27017`
- **æ•°æ®åº“**: `bazi_feedback`
- **è®¤è¯**: æ— è®¤è¯ï¼ˆé»˜è®¤ï¼‰

---

## âš¡ å¿«é€Ÿé…ç½®æ­¥éª¤

### æ–¹å¼ä¸€ï¼šåœ¨ DBeaver GUI ä¸­é…ç½®ï¼ˆæ¨èï¼‰

#### é…ç½® MySQL è¿æ¥

1. **æ‰“å¼€ DBeaver**
   - å¦‚æœ DBeaver å·²ç»æ‰“å¼€ï¼Œè·³åˆ°æ­¥éª¤ 2
   - å¦‚æœæœªæ‰“å¼€ï¼Œè¿è¡Œï¼š`open -a DBeaver`

2. **æ£€æŸ¥ç°æœ‰è¿æ¥**
   - åœ¨å·¦ä¾§å¯¼èˆªå™¨ä¸­æŸ¥çœ‹æ˜¯å¦å·²æœ‰ "hifate_bazi" è¿æ¥
   - å¦‚æœæœ‰ï¼Œå³é”®ç‚¹å‡» â†’ **"Edit Connection"** ç¼–è¾‘è¿æ¥
   - å¦‚æœæ²¡æœ‰ï¼Œç»§ç»­æ­¥éª¤ 3

3. **åˆ›å»º/ç¼–è¾‘ MySQL è¿æ¥**
   - ç‚¹å‡»å·¦ä¸Šè§’ **"æ–°å»ºæ•°æ®åº“è¿æ¥"** æŒ‰é’®ï¼ˆæˆ– `Cmd + Shift + N`ï¼‰
   - é€‰æ‹© **MySQL** â†’ ç‚¹å‡» **"Next"**

4. **å¡«å†™è¿æ¥ä¿¡æ¯**
   - **Server Host**: `8.210.52.217`
   - **Port**: `3306`
   - **Database**: `hifate_bazi`
   - **Username**: `root`
   - **Password**: `Yuanqizhan@163`
   - âœ… å‹¾é€‰ **"Save password"**

5. **æµ‹è¯•è¿æ¥**
   - ç‚¹å‡» **"Test Connection"**
   - å¦‚æœæç¤ºä¸‹è½½é©±åŠ¨ï¼Œç‚¹å‡» **"Download"**
   - ç­‰å¾…é©±åŠ¨ä¸‹è½½å®Œæˆ
   - å†æ¬¡ç‚¹å‡» **"Test Connection"**ï¼Œåº”è¯¥æ˜¾ç¤º âœ… "Connected"

6. **ä¿å­˜è¿æ¥**
   - ç‚¹å‡» **"Finish"** ä¿å­˜

#### é…ç½® MongoDB è¿æ¥

1. **åˆ›å»ºæ–°è¿æ¥**
   - ç‚¹å‡»å·¦ä¸Šè§’ **"æ–°å»ºæ•°æ®åº“è¿æ¥"** æŒ‰é’®ï¼ˆæˆ– `Cmd + Shift + N`ï¼‰
   - é€‰æ‹© **MongoDB** â†’ ç‚¹å‡» **"Next"**

2. **å¡«å†™è¿æ¥ä¿¡æ¯**
   - **Server Host**: `8.210.52.217`
   - **Port**: `27017`
   - **Database**: `bazi_feedback`
   - **Authentication**: é€‰æ‹© **None**ï¼ˆæ— éœ€è®¤è¯ï¼‰

3. **æµ‹è¯•è¿æ¥**
   - ç‚¹å‡» **"Test Connection"**
   - å¦‚æœæç¤ºä¸‹è½½é©±åŠ¨ï¼Œç‚¹å‡» **"Download"**
   - ç­‰å¾…é©±åŠ¨ä¸‹è½½å®Œæˆ
   - å†æ¬¡ç‚¹å‡» **"Test Connection"**ï¼Œåº”è¯¥æ˜¾ç¤º âœ… "Connected"

4. **ä¿å­˜è¿æ¥**
   - ç‚¹å‡» **"Finish"** ä¿å­˜

---

## ğŸ” éªŒè¯è¿æ¥

### éªŒè¯ MySQL è¿æ¥

1. åœ¨å·¦ä¾§å¯¼èˆªå™¨ä¸­å±•å¼€ MySQL è¿æ¥
2. å±•å¼€ `hifate_bazi` æ•°æ®åº“
3. å±•å¼€ `Tables`ï¼Œåº”è¯¥èƒ½çœ‹åˆ°æ•°æ®è¡¨åˆ—è¡¨
4. åŒå‡»ä»»æ„è¡¨ï¼Œåº”è¯¥èƒ½æŸ¥çœ‹è¡¨æ•°æ®

### éªŒè¯ MongoDB è¿æ¥

1. åœ¨å·¦ä¾§å¯¼èˆªå™¨ä¸­å±•å¼€ MongoDB è¿æ¥
2. å±•å¼€ `bazi_feedback` æ•°æ®åº“
3. å±•å¼€ `Collections`ï¼Œåº”è¯¥èƒ½çœ‹åˆ°é›†åˆåˆ—è¡¨
4. åŒå‡»ä»»æ„é›†åˆï¼Œåº”è¯¥èƒ½æŸ¥çœ‹æ–‡æ¡£æ•°æ®

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### MySQL è¿æ¥å¤±è´¥

**é”™è¯¯**: "Access denied for user..."
- âœ… æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
- âœ… ç¡®è®¤å¯†ç ä¸ºï¼š`Yuanqizhan@163`

**é”™è¯¯**: "Can't connect to MySQL server..."
- âœ… æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
- âœ… ç¡®è®¤é˜²ç«å¢™å…è®¸è®¿é—® `8.210.52.217:3306`
- âœ… å°è¯•ä½¿ç”¨å‘½ä»¤æµ‹è¯•è¿æ¥ï¼š
  ```bash
  mysql -h 8.210.52.217 -P 3306 -u root -p
  # è¾“å…¥å¯†ç : Yuanqizhan@163
  ```

### MongoDB è¿æ¥å¤±è´¥

**é”™è¯¯**: "Connection refused..."
- âœ… æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
- âœ… ç¡®è®¤é˜²ç«å¢™å…è®¸è®¿é—® `8.210.52.217:27017`
- âœ… å°è¯•ä½¿ç”¨å‘½ä»¤æµ‹è¯•è¿æ¥ï¼š
  ```bash
  mongosh "mongodb://8.210.52.217:27017/bazi_feedback"
  ```

**é”™è¯¯**: "Driver not found..."
- âœ… åœ¨ DBeaver ä¸­ï¼š`Help` â†’ `Driver Manager`
- âœ… æœç´¢ "MongoDB"ï¼Œé€‰æ‹©å¯¹åº”çš„é©±åŠ¨
- âœ… ç‚¹å‡» `Edit` â†’ `Download` ä¸‹è½½é©±åŠ¨

---

## ğŸ“ é…ç½®æ–‡ä»¶ä½ç½®

å¦‚æœéœ€è¦æ‰‹åŠ¨æŸ¥çœ‹æˆ–ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆä¸æ¨èï¼‰ï¼š

```bash
# é…ç½®æ–‡ä»¶è·¯å¾„
~/Library/DBeaverData/workspace6/General/.dbeaver/data-sources.json

# æŸ¥çœ‹é…ç½®
cat ~/Library/DBeaverData/workspace6/General/.dbeaver/data-sources.json | python3 -m json.tool
```

âš ï¸ **æ³¨æ„**: å¯†ç æ˜¯åŠ å¯†å­˜å‚¨çš„ï¼Œç›´æ¥ç¼–è¾‘ JSON æ–‡ä»¶å¯èƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œå»ºè®®ä½¿ç”¨ GUI é…ç½®ã€‚

---

## ğŸš€ å¿«é€Ÿæµ‹è¯•è¿æ¥è„šæœ¬

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ Python è„šæœ¬å¿«é€Ÿæµ‹è¯•æ•°æ®åº“è¿æ¥ï¼š

```python
# æµ‹è¯• MySQL è¿æ¥
import pymysql
try:
    conn = pymysql.connect(
        host='8.210.52.217',
        port=3306,
        user='root',
        password='Yuanqizhan@163',
        database='hifate_bazi'
    )
    print("âœ… MySQL è¿æ¥æˆåŠŸ")
    conn.close()
except Exception as e:
    print(f"âŒ MySQL è¿æ¥å¤±è´¥: {e}")

# æµ‹è¯• MongoDB è¿æ¥
try:
    from pymongo import MongoClient
    client = MongoClient('mongodb://8.210.52.217:27017/')
    db = client['bazi_feedback']
    db.list_collection_names()
    print("âœ… MongoDB è¿æ¥æˆåŠŸ")
    client.close()
except Exception as e:
    print(f"âŒ MongoDB è¿æ¥å¤±è´¥: {e}")
```

---

## âœ… é…ç½®å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] MySQL è¿æ¥å·²åˆ›å»ºå¹¶æµ‹è¯•æˆåŠŸ
- [ ] MongoDB è¿æ¥å·²åˆ›å»ºå¹¶æµ‹è¯•æˆåŠŸ
- [ ] å¯ä»¥æ­£å¸¸æŸ¥çœ‹ MySQL æ•°æ®åº“è¡¨
- [ ] å¯ä»¥æ­£å¸¸æŸ¥çœ‹ MongoDB é›†åˆ
- [ ] é©±åŠ¨å·²æ­£ç¡®ä¸‹è½½å’Œå®‰è£…

é…ç½®å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨ DBeaver ä¸­æ–¹ä¾¿åœ°ç®¡ç†ç”Ÿäº§ç¯å¢ƒçš„æ•°æ®åº“äº†ï¼ğŸ‰
